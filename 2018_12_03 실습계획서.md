# 2018/11/26
1. 프로젝명 : 스마트 저금통
2. 금주 실습한 내용
	* 실습명 : 데이터베이스에 값넣고 카카오톡으로 값 읽어오기
	* 실습절차 및 결과 
		* kakaoChat폴더안에 있는 sqlite3 db가 들어 있는 db폴더에 터미널 창에 다음과 같은 코드로 table 생성
	```CREATE TABLE passBook('id' INTEGER NOT NULL PRIMARY KEY, 'Q' INTEGER NOT NULL);```
	```passBook이라는 이름을 가진 테이블을 생성하고 id 란 컬럼은 int 형으로 null값이 들어갈 수 없고 데이터를 판별하는 고유기 , Q란 int형으로 null 값이 들어갈수 없다 ```
	
		* 카카오 플친을 통해 10원,50원,100원 저금 가능
		![2](https://user-images.githubusercontent.com/39250642/49342212-dc3ab980-f69b-11e8-9b42-0aeef9cc8bd2.png)
		<카카오 챗봇에서 동전 저금>
	![kakaotalk_20181203_010927303](https://user-images.githubusercontent.com/39250642/49342223-08563a80-f69c-11e8-8b4c-63de0d63fb87.jpg)
	<라즈베리파이 서버에 table형식으로 들어오는 것을 확인 할수 있다.>
		* 카카오 플친을 통해 통장 잔고 확인하기
	![5](https://user-images.githubusercontent.com/39250642/49342214-e066d700-f69b-11e8-92f4-b9c5cfb346cb.png)
	
	<저금 출력 코드>
	```	 


		db.all("select * from pay", function(err, rows){

				sum = 0

				answers = ""

				for(i = 0;i < rows.length;i++){

					sum = sum + rows[i].q;

				}

				var tSum = String(sum);

				res.json({'message':{'text':tSum+'원이 저금 되었어요~'}

				});

			}); ```
	<코드 해석>
	```pay라는 테이블에 있는 모든 값을 더해서 String형으로 형변환 한뒤 res.json({message})를 통해서 text형식으로 카카오 챗봇으로 내용을 보냄  ```

3. 실습 소감
	* 처음에 sqlite3 문법을 몰라서 table 초기화 하기 힘들었지만 해결함 -> 터미널 창에서 CREATE TABLE "만들고자 하는 테이블 명"(매개 변수)
	* 데이터베이스에 있는 행과 열의 개념을 잘 몰라서 많이 해맸지만 해결함 -> 스마트 저금통은 저금이라는 하나의 목적을 가지고 있기 때문에 행은 필요없고 열만으로 충분하기에 열만 사용 추후 테이블을 늘려 기능을 추가할 계획
	* db 불러오기 저장하기가 매우 까다로웠지만 해결함

	-> db 저장하는 코드 ```insert into table명(매개변수) values(숫자) ``` = 매개변수에 숫자를 저장하겠다.

	-> db 카카오 챗봇에 불러오는 코드 ``` select * from table명``` = table에 있는 모든 행 열을 가져온다.
4. 관련 링크


	https://blog.naver.com/roboholic84/221363480611 라즈베리와 카카용오 aip를 이용한 db활
